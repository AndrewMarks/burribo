---
phase: 03-scroll-experience
plan: 02
type: execute
depends_on: ["03-01"]
files_modified: [index.md, assets/js/main.js, assets/css/main.scss]
---

<objective>
Implement scroll-triggered text reveal animations for headings using GSAP SplitText.

Purpose: Create the decorative text reveals that are the CORE VALUE of the portfolio - headings that animate into view as user scrolls, creating a polished, intentional feel.
Output: Section headings that reveal line-by-line or word-by-word on scroll.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/03-scroll-experience/03-RESEARCH.md
@.planning/phases/03-scroll-experience/03-01-SUMMARY.md

**Relevant source files:**
@index.md
@assets/js/main.js
@assets/css/main.scss

**From RESEARCH.md - SplitText Pattern:**
```javascript
SplitText.create(".reveal-text", {
  type: "words,lines",
  mask: "lines",
  autoSplit: true,
  onSplit(self) {
    return gsap.from(self.lines, {
      yPercent: 100,
      opacity: 0,
      stagger: 0.1,
      duration: 0.8,
      ease: "power2.out",
      scrollTrigger: {...}
    });
  }
});
```

**From RESEARCH.md - Pitfalls:**
- Font loading can break text split - use autoSplit: true
- Only animate transform/opacity to avoid jank
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add reveal classes to index.md content</name>
  <files>index.md</files>
  <action>
Update index.md to add reveal animation classes:

1. Hero section:
   - Add class `reveal-hero` to h1 (the "Andrew Marks" text)
   - Add class `reveal-tagline` to the tagline paragraph

2. Section headings:
   - Add class `reveal-heading` to h2 elements in work, about, contact sections
   - These will all use the same reveal animation

3. Card content (optional enhancement):
   - Add class `reveal-card` to .card elements for staggered reveal

Keep the existing structure and classes intact - just ADD the reveal classes.
  </action>
  <verify>View index.md source - reveal classes should be present on h1, tagline, all h2 section headers.</verify>
  <done>All target elements have appropriate reveal classes added.</done>
</task>

<task type="auto">
  <name>Task 2: Implement SplitText scroll-triggered reveals</name>
  <files>assets/js/main.js, assets/css/main.scss</files>
  <action>
1. In `assets/css/main.scss`, add initial states for reveal elements:
   ```scss
   // Reveal animation initial states (before JS runs)
   .reveal-hero,
   .reveal-tagline,
   .reveal-heading {
     // Visible by default for no-JS fallback
     // JS will set initial hidden state
   }
   ```

2. In `assets/js/main.js`, add text reveal animations:

   a) Hero text reveal (dramatic, slower):
   ```javascript
   // Hero name - split by lines, reveal from bottom with mask
   SplitText.create(".reveal-hero", {
     type: "lines",
     mask: "lines",
     autoSplit: true,
     onSplit(self) {
       return gsap.from(self.lines, {
         yPercent: 100,
         duration: 1,
         stagger: 0.15,
         ease: "power3.out",
         delay: 0.3  // Slight delay after page load
       });
     }
   });
   ```

   b) Tagline reveal (fade + slide up):
   ```javascript
   gsap.from(".reveal-tagline", {
     y: 30,
     opacity: 0,
     duration: 0.8,
     ease: "power2.out",
     delay: 0.8  // After hero text
   });
   ```

   c) Section heading reveals (scroll-triggered):
   ```javascript
   document.querySelectorAll('.reveal-heading').forEach(heading => {
     SplitText.create(heading, {
       type: "words,lines",
       mask: "lines",
       autoSplit: true,
       onSplit(self) {
         return gsap.from(self.lines, {
           yPercent: 100,
           opacity: 0,
           duration: 0.8,
           stagger: 0.1,
           ease: "power3.out",
           scrollTrigger: {
             trigger: heading,
             start: "top 80%",
             toggleActions: "play none none reverse"
           }
         });
       }
     });
   });
   ```

AVOID: Using setTimeout for sequencing - use GSAP delays or timelines instead.
AVOID: Animating properties other than transform/opacity.
  </action>
  <verify>
1. Reload page - hero text should animate in line-by-line
2. Tagline should fade in after hero
3. Scroll down - section headings should reveal as they enter viewport
4. Scroll back up - reveals should reverse
5. No console errors about SplitText or ScrollTrigger
  </verify>
  <done>Hero reveals on load, section headings reveal on scroll, all animations smooth without jank.</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Hero "Andrew Marks" text reveals line-by-line on page load
- [ ] Tagline fades in after hero text
- [ ] "Work" heading reveals when scrolling to that section
- [ ] "About" heading reveals when scrolling to that section
- [ ] "Contact" heading reveals when scrolling to that section
- [ ] Scrolling back up reverses the section heading animations
- [ ] No visual jank or stuttering during reveals
- [ ] No console errors
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Text reveals feel polished and intentional (CORE VALUE achieved)
- Animations enhance rather than distract from content
</success_criteria>

<output>
After completion, create `.planning/phases/03-scroll-experience/03-02-SUMMARY.md`
</output>
